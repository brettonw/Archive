//-----------------------------------------------------------------------------
// Copyright (C) 1997-2006 Bretton Wade
// All rights reserved.
//-----------------------------------------------------------------------------

//-----------------------------------------------------------------------------
// include files
//-----------------------------------------------------------------------------
#include    "precompile.h"
#include    "bits.h"

//-----------------------------------------------------------------------------
// functions
//-----------------------------------------------------------------------------
sInt
HighestBitPosition (sInt4 value)
{
    sInt    position = 0;
    while (value)
    {
        value >>= 1;
        position++;
    }
    return position;
}

//-----------------------------------------------------------------------------
sInt4
HighestBit (sInt4 value)
{
    return 1 << (HighestBitPosition (value) - 1);
}

//-----------------------------------------------------------------------------
sInt
LowestBitPosition (sInt4 value)
{
    return HighestBitPosition (LowestBit (value));
}

//-----------------------------------------------------------------------------
sInt4
LowestBit (sInt4 value)
{
    return value bitand -value;
}

//-----------------------------------------------------------------------------
bool
IsPowerOf2 (sInt4 value)
{
    return bool (value == LowestBit (value));
}

//-----------------------------------------------------------------------------
